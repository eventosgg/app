<template name="adminExhibition">
  <ul class="breadcrumb">
    <li><a href="/admin/exhibitions">{{_ 'admin_breadcrumb_exhibitions'}}</a></li>
    <li class="active"><a href="/admin/exhibition/{{exhibition.slug}}">{{exhibition.fullName}}</a></li>
  </ul>
  <div class="main-content">
    <div class="row">
      <div class="col-sm-6">
        <h4 class="m-t-0">{{exhibition.title}}</h4>
      </div>
      <div class="col-sm-6 text-right">
      </div>
    </div>
    <hr class="m-t-10"/>

    <div class="row">
      <div class="col-md-4">
        <form id="update-exhibition">
          <h5 class="m-t-20">{{_ 'admin_exhibitions_add_system_data_title'}}</h5>
          <hr/>
          <div class="form-group {{errorClass 'slug'}}">
            <label for="title">{{_ 'slug'}}</label>
            <input type="text" class="form-control" id="slug" name="slug" placeholder="{{_ 'slug_placeholder'}}" value="{{exhibition.slug}}"/>
            <span class="help-block">{{errorMessage 'slug'}}</span>
          </div>
          <div class="form-group {{errorClass 'fullName'}}">
            <label for="title">{{_ 'fullName'}}</label>
            <input type="text" class="form-control" id="fullName" name="fullName" placeholder="{{_ 'fullName_placeholder'}}" value="{{exhibition.fullName}}"/>
            <span class="help-block">{{errorMessage 'title'}}</span>
          </div>
          <div class="form-group {{errorClass 'status'}}">
            <label for="status">{{_ 'status'}}</label>
            <select class="form-control" id="status" name="status">
              <option value="inactive" {{exhibitionOptionSelected 'status' exhibition.status }}>{{_ 'inactive'}}</option>
              <option value="active" {{exhibitionOptionSelected 'status' exhibition.status }}>{{_ 'active'}}</option>
            </select>
            <span class="help-block">{{errorMessage 'title'}}</span>
          </div>

          <h5 class="m-t-20">{{_ 'admin_exhibitions_add_thumbnail_data_title'}}</h5>
          <hr/>
          <div class="form-group {{errorClass 'thumbnail_img_url'}}">
            <label for="title">{{_ 'thumbnail_img_url'}}</label>
            <input type="text" class="form-control" id="thumbnail_img_url" name="thumbnail_img_url" placeholder="{{_ 'thumbnail_img_url_placeholder'}}" value="{{exhibition.thumbnail_img_url}}"/>
            <span class="help-block">{{errorMessage 'thumbnail_img_url'}}</span>
          </div>
          <div class="form-group {{errorClass 'thumbnail_title'}}">
            <label for="title">{{_ 'thumbnail_title'}}</label>
            <input type="text" class="form-control" id="thumbnail_title" name="thumbnail_title" placeholder="{{_ 'thumbnail_title_placeholder'}}" value="{{exhibition.thumbnail_title}}"/>
            <span class="help-block">{{errorMessage 'thumbnail_title'}}</span>
          </div>
          <div class="form-group {{errorClass 'thumbnail_subtitle'}}">
            <label for="title">{{_ 'thumbnail_subtitle'}}</label>
            <input type="text" class="form-control" id="thumbnail_subtitle" name="thumbnail_subtitle" placeholder="{{_ 'thumbnail_subtitle_placeholder'}}" value="{{exhibition.thumbnail_subtitle}}"/>
            <span class="help-block">{{errorMessage 'thumbnail_subtitle'}}</span>
          </div>
          <div class="form-group {{errorClass 'thumbnail_start_date'}}">
            <label for="title">{{_ 'thumbnail_start_date'}}</label>
            <input type="text" class="form-control" id="thumbnail_start_date" name="thumbnail_start_date" placeholder="{{_ 'thumbnail_start_dateplaceholder'}}" value="{{exhibition.thumbnail_start_date}}"/>
            <span class="help-block">{{errorMessage 'thumbnail_start_date'}}</span>
          </div>
          <div class="form-group {{errorClass 'thumbnail_end_date'}}">
            <label for="title">{{_ 'thumbnail_end_date'}}</label>
            <input type="text" class="form-control" id="thumbnail_end_date" name="thumbnail_end_date" placeholder="{{_ 'thumbnail_end_date_placeholder'}}" value="{{exhibition.thumbnail_end_date}}"/>
            <span class="help-block">{{errorMessage 'thumbnail_end_date'}}</span>
          </div>
          <div class="form-group {{errorClass 'thumbnail_content'}}">
            <label for="title">{{_ 'thumbnail_content'}}</label>
            <input type="text" class="form-control" id="thumbnail_content" name="thumbnail_content" placeholder="{{_ 'thumbnail_content_placeholder'}}" value="{{exhibition.thumbnail_content}}"/>
            <span class="help-block">{{errorMessage 'thumbnail_content'}}</span>
          </div>

          <h5 class="m-t-20">{{_ 'admin_exhibitions_add_page_data_title'}}</h5>
          <hr/>


          <div class="form-group {{errorClass 'page_img_url'}}">
            <label for="title">{{_ 'page_img_url'}}</label>
            <input type="text" class="form-control" id="page_img_url" name="page_img_url" placeholder="{{_ 'page_img_url_placeholder'}}" value="{{exhibition.page_img_url}}"/>
            <span class="help-block">{{errorMessage 'page_img_url'}}</span>
          </div>
          <div class="form-group {{errorClass 'page_title'}}">
            <label for="title">{{_ 'page_title'}}</label>
            <input type="text" class="form-control" id="page_title" name="page_title" placeholder="{{_ 'page_title_placeholder'}}" value="{{exhibition.page_title}}"/>
            <span class="help-block">{{errorMessage 'page_title'}}</span>
          </div>
          <div class="form-group {{errorClass 'page_subtitle'}}">
            <label for="title">{{_ 'page_subtitle'}}</label>
            <input type="text" class="form-control" id="page_subtitle" name="page_subtitle" placeholder="{{_ 'page_subtitle_placeholder'}}" value="{{exhibition.page_subtitle}}"/>
            <span class="help-block">{{errorMessage 'page_subtitle'}}</span>
          </div>
          <div class="text-right">
            <input type="submit" class="btn btn-success" value="{{_ 'save_changes'}}"/>
          </div>


        </form>
      </div>
      <div class="col-md-8">

        <div class="row">
          <div class="col-sm-6">
            <h5 class="m-t-0">{{_ 'admin_exhibitions_trips_title'}}</h5>
          </div>
          <div class="col-sm-6 text-right">
            <a href="/admin/exhibition/{{exhibition.slug}}/trips/add" class="btn btn-success btn-sm">{{_ 'admin_exhibitions_trip_add_button'}}</a>
          </div>
        </div>
        <hr class="m-t-10"/>


        <table class="table">
          <thead>
            <tr>
              <th class="w-1">{{_ 'admin_exhibitions_trips_table_header_tripSlug'}}</th>
              <th class="w-1"></th>
              <th>{{_ 'admin_exhibitions_trips_table_header_name'}}</th>
              <th class="w-1">{{_ 'admin_exhibitions_trips_table_header_seats'}}</th>
              <th class="w-1">{{_ 'admin_exhibitions_trips_table_header_seats_limit'}}</th>
              <th class="w-1"></th>
            </tr>
          </thead>
          <tbody>
            {{#each exhibition.trips}}
              {{> adminExhibitionTripRow}}
            {{/each}}
          </tbody>
        </table>
      </div>
    </div>

  </div>
</template>

<template name="adminExhibitionTripRow">
  <tr>
    <th>
      <a href="/admin/exhibition/{{sessionExhibitionSlug}}/trip/{{tripSlug}}">
        {{tripSlug}}
      </a>
    </th>
    <td>{{status}}</td>
    <td>{{fullName}}</td>
    <td>{{seats}}</td>
    <td>{{seats_limit}}</td>
    <td>
      <a href="#" data-tripSlug="{{tripSlug}}" class="remove-trip exhibition-delete btn btn-danger btn-xs">{{_ 'delete'}}</a>
    </td>
  </tr>
</template>
